<!-- for hooking this up to back end nodejs and mongo: http://adrianmejia.com/blog/2014/10/03/mean-stack-tutorial-mongodb-expressjs-angularjs-nodejs/ -->
<html ng-app="app">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Better My City</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
    <link rel="stylesheet" href="css/main.css">
</head>
<body id="page-top" class="index">
    
<!-- Navigation -->
<nav class="navbar navbar-default navbar-fixed-top">
    <div class="container">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" du-smooth-scroll="page-top" du-scroll-spy>Better My City</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <!-- smooth-scroll and scroll-spy must be on li tag, not a tag, in order for 
                    scroll-spy to work properly with css elements -->
                <li class="hidden" du-smooth-scroll="page-top" du-scrollspy>
                    <a></a>
                </li>
                <li du-smooth-scroll="who-we-are" du-scrollspy>
                    <a>What We Do</a>
                </li>
                <li du-smooth-scroll="find-my-city" du-scrollspy>
                    <a>Find My City</a>
                </li>
                <li du-smooth-scroll="organizations" du-scrollspy>
                    <a>Participating Organizations</a>
                </li>
                <li du-smooth-scroll="causes" du-scrollspy>
                    <a>Causes</a>
                </li>
                <li du-smooth-scroll="contact" du-scrollspy>
                    <a>Contact</a>
                </li>
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container-fluid -->
</nav>
    
<!-- Header -->
<header>
    <div class="container">
        <div class="intro-text">
<!--            <div class="intro-heading">Welcome To Better My City!</div>-->
            <div class="intro-lead-in">Seeking to make a positive impact on the neighborhoods around us</div>
            <a du-smooth-scroll="who-we-are" class="btn btn-xl">Tell Me More</a>
        </div>
    </div>
</header>
    
<!-- What We Do Section -->
<section id="who-we-are">
    <div class="container">
        <div class="row">
            <div class="col-lg-12 text-center">
                <h2 class="section-heading">Who We Are</h2>
                <h3 class="text-muted">Jeremiah 29:7</h3>
                <h3 class="section-subheading text-muted">
                But seek the welfare of the city where I have sent you into exile, and pray to the LORD on its behalf, for in its welfare you will find your welfare.
                </h3>
            </div>
        </div>
        <div class="row text-center">
            <div class="col-md-6">
                <img src="img/bible.png"/>
                <h4 class="service-heading">Gospel-Centered Change</h4>
                <p class="text-muted">We believe God placed us in the cities we live in for a purpose. Although we believe in a future glory that far outstrips this current world, we do not believe we are meant to neglect the welfare of this world. We believe we are meant to be positive agents of change in this world.</p>
            </div>
            <div class="col-md-6">
                <img src="img/connecting.png"/>
                <h4 class="service-heading">Connecting People</h4>
                <p class="text-muted">We believe there are many in the community who also desire to be positive agents of change. However, often times those with the means to give are unaware of local causes that they believe in. We hope to connect philanthropic-minded organizations with local charities and causes to promote the well-being of cities.</p>
            </div>
        </div>
    </div>
</section>
    
<!-- City Grid Section -->
<section id="find-my-city" class="bg-light-gray">
    <div class="container" ng-controller="CityController">
        <div class="row">
            <div class="col-lg-12 text-center">
                <h2 class="section-heading">Find My City</h2>
                <h3 class="section-subheading text-muted">Search: <input type="text" ng-model="search.name">
                </h3>
            </div>
        </div>
        <div class="row">
            <div class="col-md-4 col-sm-6 city-item" ng-repeat="city in cities | filter: search">
                <a href="#portfolioModal1" class="city-link" data-toggle="modal">
                    <div class="city-hover">
                        <div class="city-hover-content">
                            <i class="fa fa-plus fa-3x"></i>
                        </div>
                    </div>
                    <img ng-src="img/cities/{{city.image}}" class="img-responsive" alt="">
                </a>
                <div class="city-caption">
                    <h4>{{city.name}}</h4>
                    <p class="text-muted">Organizations:</p>
                    <p class="text-muted">Causes:</p>
                </div>
            </div>
            <div class="col-md-4 col-sm-6 city-item">
                <a href="#addCityRequest" class="city-link" data-toggle="modal">
                    <div class="city-hover">
                        <div class="city-hover-content">
                            <i class="fa fa-plus fa-3x"></i>
                        </div>
                    </div>
                    <img ng-src="img/cities/default_city_image.jpg" class="img-responsive" alt="">
                </a>
                <div class="city-caption">
                    <h4>Don't See Your City?</h4>
                    <p class="text-muted">Click the image to start a movement in your city</p>
                </div>
            </div>
        </div>
        
    </div>
</section>
    
<!--ng-view needed for where the templates go if i decide to use the router...-->
<!--<ng-view></ng-view>-->
    
<!-- Libraries -->
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.25/angular.min.js"></script>
<!--<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.25/angular-route.min.js"></script>-->
<script src="https://cdnjs.cloudflare.com/ajax/libs/angular-ui-bootstrap/0.13.3/ui-bootstrap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/angular-scroll/0.7.2/angular-scroll.js"></script>
<script src="js/classie.js"></script>
<script src="js/cbpAnimatedHeader.min.js"></script>
    
<script>
angular.module('app', [/*'ngRoute', */'ui.bootstrap', 'duScroll'])
    // Service to retrieve cities
    .factory('cities', ['$http', function($http){
      return $http.get('/cities');
    }])
    //include that factory in the scope of the main controller
    .controller('CityController', ['$scope', 'cities', function($scope, cities){

        //attempt to retrieve the current cities from the DB
        cities.success(function(data){
            console.log(data);
            $scope.cities = data;
        }).error(function(data, status){
            console.log(data, status);
            $scope.cities = [];
        });
        
        //TODO move this to another controlller
//        //function to scroll to top
//        $scope.toTheTop = function() {
//            $document.scrollTopAnimated(0, 5000).then(function() {
//                //intentionally blank
//            });
//        }
    }])
    .value('duScrollOffset', 30);
</script>                                                                                   
<!-- Template -->
    
<!--
<script type="text/ng-template" id="/todos.html">
  Search: <input type="text" ng-model="search.name">
  <ul>
    <li ng-repeat="todo in todos | filter: search">
      <input type="checkbox" ng-model="todo.completed">
      <a href="#/{{$index}}">{{todo.name}}</a>
    </li>
  </ul>
</script>

<script type="text/ng-template" id="/todoDetails.html">
  <h1>{{ todo.name }}</h1>
  completed: <input type="checkbox" ng-model="todo.completed">
  note: <textarea>{{ todo.note }}</textarea>
</script>

<script>
  angular.module('app', ['ngRoute', 'ui.bootstrap'])

    //---------------
    // Services
    //---------------

    .factory('Todos', function(){
      return [
        { name: 'AngularJS Directives', completed: true, note: 'add notes...' },
        { name: 'Data binding', completed: true, note: 'add notes...' },
        { name: '$scope', completed: true, note: 'add notes...' },
        { name: 'Controllers and Modules', completed: true, note: 'add notes...' },
        { name: 'Templates and routes', completed: true, note: 'add notes...' },
        { name: 'Filters and Services', completed: false, note: 'add notes...' },
        { name: 'Get started with Node/ExpressJS', completed: false, note: 'add notes...' },
        { name: 'Setup MongoDB database', completed: false, note: 'add notes...' },
        { name: 'Be awesome!', completed: false, note: 'add notes...' },
      ];
    })

    //---------------
    // Controllers
    //---------------

    .controller('TodoController', ['$scope', 'Todos', function ($scope, Todos) {
      $scope.todos = Todos;
    }])

    .controller('TodoDetailCtrl', ['$scope', '$routeParams', 'Todos', function ($scope, $routeParams, Todos) {
      $scope.todo = Todos[$routeParams.id];
    }])

    //---------------
    // Routes
    //---------------

    .config(['$routeProvider', function ($routeProvider) {
      $routeProvider
        .when('/', {
          templateUrl: '/todos.html',
          controller: 'TodoController'
        })

        .when('/:id', {
          templateUrl: '/todoDetails.html',
          controller: 'TodoDetailCtrl'
       });
    }]);

</script>
-->

</body>
</html>